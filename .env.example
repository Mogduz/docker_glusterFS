# .env.example â€” copy to .env and adjust values

# ----------------------------------------------------------------------------
# Runtime & container identity
# Container name for the Gluster service (Compose).
CONTAINER_NAME=gluster-solo
# Hostname reported inside the container (shows up in Gluster peer/volume info).
HOSTNAME_GLUSTER=gluster-solo
# Time zone inside the container.
TZ=UTC
# Default umask for processes in the container.
UMASK=0022
# General log level for entrypoint scripts (does not change Gluster log verbosity).
LOG_LEVEL=INFO

# ----------------------------------------------------------------------------
# Health check
# Time between health checks (e.g., 10s).
HC_INTERVAL=10s
# Timeout for a single health check attempt.
HC_TIMEOUT=5s
# Initial grace period before health checks start
HC_START_PERIOD=30s
# Number of retries before marking the container unhealthy.
HC_RETRIES=20

# ----------------------------------------------------------------------------
# Networking & ports
# Primary Gluster management port (default 24007/tcp).
MGMT_PORT1=24007
# Secondary management port (default 24008/tcp).
MGMT_PORT2=24008
# Start of the Gluster data port range (default 49152).
DATA_PORT_START=49152
# End of the Gluster data port range (default 49251).
DATA_PORT_END=49251
# Optional: host private IP used in extra_hosts/binds; set when applicable
PRIVATE_IP=127.0.0.1
# Address family enforced in glusterd volfile (inet for IPv4).
ADDRESS_FAMILY=inet
# Upper bound for ports used by translators (safety cap in volfile patch).
MAX_PORT=60999

# ----------------------------------------------------------------------------
# Brick mapping (host -> container)
# Comma-separated **host** directories for bricks. The generator maps them to /bricks/brick1..N.
HOST_BRICK_PATHS=/mnt/disk1/gluster/brick1,/mnt/disk2/gluster/brick2
# Comma-separated **container** brick targets (auto-written by the generator). Leave empty here.
BRICK_PATHS=

# ----------------------------------------------------------------------------
# Gluster volume settings
# Mode of operation: 'init' to allow volume creation, 'brick' to only serve bricks.
MODE=init
# Name of the Gluster volume to create/start (e.g., gv0).
VOLNAME=gv0
# Volume type (e.g., replica, distribute, disperse). This stack targets 'replica' primarily.
VTYPE=replica
# Replica count (e.g., 2 for replica-2).
REPLICA=2
# Transport type for Gluster (tcp recommended).
TRANSPORT=tcp
# Create the volume if it does not exist (1=yes, 0=no).
CREATE_VOLUME=1
# Allow non-interactive force flags during create (1=yes). Required for replica-2 prompts.
ALLOW_FORCE_CREATE=1
# Comma-separated volume options applied after creation (e.g., performance.* or cluster.*).
VOL_OPTS=performance.client-io-threads=on,cluster.quorum-type=auto
# Comma-separated CIDRs or hosts that may mount the volume (auth.allow).
AUTH_ALLOW=10.0.0.0/8,192.168.0.0/16,172.16.0.0/12
# Disable the legacy NFS translator (1=yes).
NFS_DISABLE=1

# ----------------------------------------------------------------------------
# Multi-host & advanced (optional)
# Comma-separated peer hostnames/IPs for multi-host clusters (not automated in this stack).
PEERS=
# If set to 1, wait for all peers before proceeding (only relevant if PEERS is used).
REQUIRE_ALL_PEERS=0
# Allow starting with an empty /var/lib/glusterd state (0=no).
ALLOW_EMPTY_STATE=0